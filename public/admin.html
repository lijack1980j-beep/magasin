<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin â€“ Glitch Signal</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/styles.css" />

  <style>
    .admin-wrap { padding: 110px 0 60px; }
    .admin-card{
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 18px;
      padding: 22px;
      backdrop-filter: blur(10px);
      max-width: 980px;
      margin: 0 auto;
    }
    .admin-title{ margin:0 0 8px; }
    .admin-sub{ opacity:.85; margin:0 0 18px; }

    label{ display:block; font-size:.9rem; opacity:.9; margin:10px 0 6px; }
    input, textarea, select{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.25);
      color:#fff;
      outline:none;
      font-family:Poppins, sans-serif;
    }
    textarea{ resize:vertical; min-height: 100px; }

    .form-row{ display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
    @media (max-width: 700px){ .form-row{ grid-template-columns:1fr; } }

    .btn-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:14px; }
    .btn{
      padding:10px 14px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color:#fff;
      cursor:pointer;
      font-weight:700;
    }
    .btn.primary{ background: rgba(0,188,212,0.14); border-color: rgba(0,188,212,0.35); }
    .btn.danger{ background: rgba(255,0,80,0.14); border-color: rgba(255,0,80,0.35); }

    .notice{
      margin-top:10px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.85);
      font-size: .92rem;
      white-space: pre-wrap;
    }

    .hidden{ display:none !important; }

    /* existing list cards */
    .p-list{ display:grid; gap:12px; margin-top: 12px; }
    .p-item{
      display:grid;
      grid-template-columns: 120px 1fr auto;
      gap:12px;
      align-items:center;
      background:#131313;
      border:1px solid rgba(255,255,255,.08);
      border-radius:12px;
      padding:12px;
    }
    .p-thumb{
      width:120px;height:80px;overflow:hidden;border-radius:10px;background:#0f0f0f;
    }
    .p-thumb img{ width:100%;height:100%;object-fit:cover;display:block; }
    .pill{
      display:inline-block;
      padding: 2px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      font-size: 12px;
      color:#ccc;
    }
    .mini{ font-size:12px;color:#999; }
  </style>
</head>

<body>
  <header class="navbar">
    <div class="container nav-container">
      <div class="logo"><a href="/index.html">Glitch&nbsp;Signal</a></div>

      <nav id="nav-menu" class="nav-links">
        <a href="/index.html#about">About</a>
        <a href="/index.html#services">Services</a>
        <a href="/index.html#portfolio">Portfolio</a>
        <a href="/index.html#contact">Contact</a>
        <a href="/gallery.html">Gallery</a>
        <a href="/admin.html" class="active">Admin</a>
      </nav>

      <button id="nav-toggle" aria-label="Toggle navigation">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>
    </div>
  </header>

  <main class="admin-wrap">
    <div class="container">

      <!-- LOGIN -->
      <section id="loginSection" class="admin-card">
        <h1 class="admin-title">Admin Login</h1>
        <p class="admin-sub">Enter your <b>ADMIN_API_KEY</b> to manage Gallery projects.</p>

        <label for="adminKeyInput">Admin API Key</label>
        <input id="adminKeyInput" type="password" placeholder="Enter ADMIN_API_KEY" />

        <div class="btn-row">
          <button class="btn primary" id="loginBtn" type="button">Login</button>
        </div>

        <div id="loginStatus" class="notice hidden"></div>
      </section>

      <!-- MANAGER (hidden until login) -->
      <section id="managerSection" class="admin-card hidden" style="margin-top:18px;">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;">
          <div>
            <h2 style="margin:0;">Gallery Manager</h2>
            <div class="mini">Add / Edit / Delete projects shown in the Gallery page.</div>
          </div>
          <button class="btn danger" id="logoutBtn" type="button">Logout</button>
        </div>

        <hr style="border-color:rgba(255,255,255,.08);margin:18px 0;" />

        <!-- FORM -->
        <div class="form-row">
          <div>
            <label>Title</label>
            <input id="pTitle" placeholder="Project title" />
          </div>
          <div>
            <label>Category</label>
            <select id="pCategory">
              <option value="uiux">UI/UX</option>
              <option value="interior">Interior</option>
              <option value="exterior">Exterior</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>

        <label>Description</label>
        <textarea id="pDescription" placeholder="Short description..."></textarea>

        <label>Tags (comma separated)</label>
        <input id="pTags" placeholder="modern, minimal, figma" />

        <div class="form-row">
          <div>
            <label>Live URL (optional)</label>
            <input id="pLive" placeholder="https://..." />
          </div>
          <div>
            <label>GitHub URL (optional)</label>
            <input id="pRepo" placeholder="https://github.com/..." />
          </div>
        </div>

        <div class="form-row" style="align-items:center;">
          <label style="display:flex;gap:8px;align-items:center;margin:0;">
            <input id="pFeatured" type="checkbox" />
            Featured
          </label>
          <div>
            <label style="margin:0 0 6px;">Sort order</label>
            <input id="pSort" type="number" value="0" />
          </div>
        </div>

        <label>Cover image (upload) OR paste image URL</label>
        <input id="pFile" type="file" accept="image/*" />
        <input id="pImageUrl" placeholder="OR image URL (optional)" style="margin-top:10px;" />

        <div class="btn-row">
          <button class="btn primary" id="saveProjectBtn" type="button">Save to Gallery</button>
          <button class="btn" id="cancelEditBtn" type="button">Cancel Edit</button>
        </div>

        <div id="adminStatus" class="notice hidden"></div>

        <hr style="border-color:rgba(255,255,255,.08);margin:18px 0;" />

        <h3 style="margin:0;">Existing Gallery Projects</h3>
        <div id="projectsList" class="p-list"></div>
      </section>

    </div>
  </main>

  <script src="/script.js" defer></script>
  <script src="/admin-gallery.js" defer></script>
</body>
</html>
